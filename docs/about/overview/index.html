<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="gnet Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="gnet Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">

<title data-react-helmet="true">Overview | Docs | gnet</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="gnet"><meta data-react-helmet="true" property="og:image" content="https://gnet.host/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://gnet.host/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for gnet"><meta data-react-helmet="true" name="twitter:site" content="@vectordotdev"><meta data-react-helmet="true" name="twitter:creator" content="@vectordotdev"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="High-level description of the gnet framework and its features."><meta data-react-helmet="true" property="og:description" content="High-level description of the gnet framework and its features."><meta data-react-helmet="true" property="og:url" content="https://gnet.host/docs/about/overview">

<link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://gnet.host/docs/about/overview/">


<link rel="stylesheet" href="/styles.2ae13ac2.css">


<link rel="preload" href="/styles.0bf1c6e0.js" as="script">

<link rel="preload" href="/runtime~main.6282ca3e.js" as="script">

<link rel="preload" href="/main.db486e00.js" as="script">

<link rel="preload" href="/1.5bafe8ca.js" as="script">

<link rel="preload" href="/2.51995fe3.js" as="script">

<link rel="preload" href="/3.758d517d.js" as="script">

<link rel="preload" href="/1be78505.09b46dcb.js" as="script">

<link rel="preload" href="/20ac7829.9f79c7cd.js" as="script">

<link rel="preload" href="/4.4600307e.js" as="script">

<link rel="preload" href="/17896441.fed0b536.js" as="script">

<link rel="preload" href="/309c6dc0.569ebe5c.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__item__icon_only" title="Highlights" activeclassname="navbar__link--active" href="/highlights/"><i class="feather icon-gift"></i> <span class="badge badge--primary">new</span></a><a class="navbar__item navbar__link navbar__item__icon_only" title="Community" activeclassname="navbar__link--active" href="/community/"><i class="feather icon-users"></i> </a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/panjf2000/gnet"><i class="feather icon-github"></i> GitHub<span class="badge badge--secondary">7.7k</span></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/blog/">Blog</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/highlights/">Highlights<span class="badge badge--primary">new</span></a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/community/">Community</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/panjf2000/gnet">GitHub<span class="badge badge--secondary">7.7k</span></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><div class="sidebar_dgnY"><div class="docs-sidebar sidebar_25T_"><a class="sidebarLogo_3JkW" href="/"></a><div class="menu menu--responsive menu_1e9D"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><div class="title">About</div><ul class="menu__list"><li class="menu__list-item"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/about/overview/">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/overview-cn/">预览</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Quickstart</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/quickstart/">Quickstart</a></li></ul></li><li class="menu__list-item"><div class="title">Tutorial</div><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/tutorial/best-practices/">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/tutorial/best-practices/">Best practices</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Benchmark</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/benchmark/">Benchmark</a></li></ul></li><li class="menu__list-item"><div class="title">v1.x</div><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/v1.x/doc-for-gnet-v1/">v1.x</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/v1.x/doc-for-gnet-v1/">Doc for gnet v1</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/v1.x/doc-for-gnet-v1-cn/">gnet v1 文档</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">FAQ</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/faq/">FAQ</a></li></ul></li></ul></div></div></div><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"></div><h1 class="docTitle_cWlf">Overview</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-gnet"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-gnet" title="Direct link to heading">#</a>What is gnet?</h2><p><code>gnet</code> is an event-driven networking framework that is fast and lightweight. It makes direct <a href="https://en.wikipedia.org/wiki/Epoll">epoll</a> and <a href="https://en.wikipedia.org/wiki/Kqueue">kqueue</a> syscalls rather than using the standard Go <a href="https://golang.org/pkg/net/">net</a> package and works in a similar manner as <a href="https://github.com/netty/netty">netty</a> and <a href="https://github.com/libuv/libuv">libuv</a>, which makes <code>gnet</code> achieve a much higher performance than Go <a href="https://golang.org/pkg/net/">net</a>.</p><p><code>gnet</code> is not designed to displace the standard Go <a href="https://golang.org/pkg/net/">net</a> package, but to create a networking server framework for Go that performs on par with <a href="http://redis.io">Redis</a> and <a href="http://www.haproxy.org">Haproxy</a> for networking packets handling.</p><p><code>gnet</code> sells itself as a high-performance, lightweight, non-blocking, event-driven networking framework written in pure Go which works on transport layer with TCP/UDP protocols and Unix Domain Socket , so it allows developers to implement their own protocols(HTTP, RPC, WebSocket, Redis, etc.) of application layer upon <code>gnet</code> for building  diversified network applications, for instance, you get an HTTP Server or Web Framework if you implement HTTP protocol upon <code>gnet</code> while you have a Redis Server done with the implementation of Redis protocol upon <code>gnet</code> and so on.</p><p><strong><code>gnet</code> derives from the project: <code>evio</code> while having a much higher performance and more features.</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="features"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#features" title="Direct link to heading">#</a>Features</h2><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> <a href="#-performance">High-performance</a> event-loop under networking model of multiple threads/goroutines</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Built-in goroutine pool powered by the library <a href="https://github.com/panjf2000/ants">ants</a></li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Lock-free during the entire runtime</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Concise and easy-to-use APIs</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Efficient, reusable and elastic memory buffers: Ring-Buffer, Linked-List-Buffer, Mixed-Buffer which combines the first two</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Supporting multiple protocols/IPC mechanism: <code>TCP</code>, <code>UDP</code> and <code>Unix Domain Socket</code></li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Supporting multiple load-balancing algorithms: <code>Round-Robin</code>, <code>Source-Addr-Hash</code> and <code>Least-Connections</code></li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Supporting two event-driven mechanisms: <code>epoll</code> on <strong>Linux</strong> and <code>kqueue</code> on <strong>FreeBSD/DragonFly/Darwin</strong></li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Flexible ticker event</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""> Implementation of <code>gnet</code> Client</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="architecture"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#architecture" title="Direct link to heading">#</a>Architecture</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="networking-model-of-multiple-threadsgoroutines"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#networking-model-of-multiple-threadsgoroutines" title="Direct link to heading">#</a>Networking Model of Multiple Threads/Goroutines</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="multiple-reactors"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#multiple-reactors" title="Direct link to heading">#</a>Multiple Reactors</h4><p><code>gnet</code> redesigns and implements a new built-in networking model of multiple threads/goroutines: 『multiple reactors』 which is also the default networking model of multiple threads in <code>netty</code>, Here&#x27;s the schematic diagram:</p><p align="center"><img alt="multi_reactor" src="https://raw.githubusercontent.com/panjf2000/illustrations/master/go/multi-reactors.png"></p><p>and it works as the following sequence diagram:</p><p align="center"><img alt="reactor" src="https://raw.githubusercontent.com/panjf2000/illustrations/master/go/multi-reactors-sequence-diagram.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="multiple-reactors--goroutine-pool"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#multiple-reactors--goroutine-pool" title="Direct link to heading">#</a>Multiple Reactors + Goroutine Pool</h4><p>You may ask me a question: what if my business logic in <code>EventHandler.React</code>  contains some blocking code which leads to blocking in event-loop of <code>gnet</code>, what is the solution for this kind of situation？</p><p>As you know, there is a most important tenet when writing code under <code>gnet</code>: you should never block the event-loop goroutine in the <code>EventHandler.React</code>, which is also the most important tenet in <code>netty</code>, otherwise, it will result in a low throughput in your <code>gnet</code> server.</p><p>And the solution to that could be found in the subsequent networking model of multiple threads/goroutines in <code>gnet</code>: 『multiple reactors with thread/goroutine pool』which pulls you out from the blocking mire, it will construct a worker-pool with fixed capacity and put those blocking jobs in <code>EventHandler.React</code> into the worker-pool to make the event-loop goroutines non-blocking.</p><p>The networking model:『multiple reactors with thread/goroutine pool』dissolves the blocking jobs by introducing a goroutine pool, as shown below:</p><p align="center"><img alt="multi_reactor_thread_pool" src="https://raw.githubusercontent.com/panjf2000/illustrations/master/go/multi-reactors%2Bthread-pool.png"></p><p>and it works as the following sequence diagram:</p><p align="center"><img alt="multi-reactors" src="https://raw.githubusercontent.com/panjf2000/illustrations/master/go/multi-reactors%2Bthread-pool-sequence-diagram.png"></p><p><code>gnet</code> implements the networking model:『multiple reactors with thread/goroutine pool』by the aid of a high-performance goroutine pool called <a href="https://github.com/panjf2000/ants">ants</a> that allows you to manage and recycle a massive number of goroutines in your concurrent programs, the full features and usages in <code>ants</code> are documented <a href="https://pkg.go.dev/github.com/panjf2000/ants/v2?tab=doc">here</a>.</p><p><code>gnet</code> integrates <code>ants</code> and provides the <code>pool.goroutine.Default()</code> method that you can call to instantiate a <code>ants</code> pool where you are able to put your blocking code logic and call the function <code>gnet.Conn.AsyncWrite([]byte)</code> to send out data asynchronously after you finish the blocking process and get the output data, which makes the goroutine of event-loop non-blocking.</p><p>The details about integrating <code>gnet</code>  with <code>ants</code> are shown <a href="#echo-server-with-blocking-logic">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="key-designs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#key-designs" title="Direct link to heading">#</a>Key designs</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="elastic-buffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#elastic-buffer" title="Direct link to heading">#</a>Elastic Buffer</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="elastic-ring-buffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#elastic-ring-buffer" title="Direct link to heading">#</a>Elastic Ring Buffer</h4><p align="center"><img src="https://raw.githubusercontent.com/panjf2000/illustrations/master/go/ring-buffer.gif"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="elastic-ring--linked-list-buffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#elastic-ring--linked-list-buffer" title="Direct link to heading">#</a>Elastic Ring &amp; Linked-list Buffer</h4><p align="center"><img src="https://img.taohuawu.club/gallery/elastic-buffer.png"></p><p>There are two buffers inside <code>gnet</code>: inbound buffer (elastic-ring-buffer) and outbound buffer (elastic-ring&amp;linked-list-buffer) to buffer and manage inbound/outbound network data, inbound and outbound buffers inside gnet are designed and tuned to reuse memory and be auto-scaling on demand.</p><p>The purpose of implementing inbound and outbound buffers in <code>gnet</code> is to transfer the logic of buffering and managing network data based on application protocol upon TCP stream from business server to framework and unify the network data buffer, which minimizes the complexity of business code so that developers are able to concentrate on business logic instead of the underlying implementation.</p></div></article></div><div class="paginator_3VDt"><nav class="pagination-nav"><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/about/overview-cn"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">预览 »</h4></a></div></nav></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#what-is-gnet" class="contents__link">What is gnet?</a></li><li><a href="#features" class="contents__link">Features</a></li><li><a href="#architecture" class="contents__link">Architecture</a><ul><li><a href="#networking-model-of-multiple-threadsgoroutines" class="contents__link">Networking Model of Multiple Threads/Goroutines</a></li></ul></li><li><a href="#key-designs" class="contents__link">Key designs</a><ul><li><a href="#elastic-buffer" class="contents__link">Elastic Buffer</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/panjf2000/gnet/edit/master/website/docs/about/overview.md" class="contents__link" target="_blank"><i class="feather icon-edit-1"></i> Edit this page</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><div class="mailing-list"><form action="https://app.getvero.com/forms/a748ded7ce0da69e6042fa1e21042506" method="post" class="mailing-list--form"><input type="email" class="input input--undefined" name="email" placeholder="you@email.com" style="width:150px"><button class="button button--primary button--undefined" type="submit">Subscribe</button></form></div></div><div><a href="https://twitter.com/_andy_pan" target="_blank"><i class="feather icon-twitter" alt="gnet&#x27;s Twitter"></i></a>    <a href="https://github.com/panjf2000/gnet" target="_blank"><i class="feather icon-github" alt="gnet&#x27;s Github Repo"></i></a>    <a href="https://strikefreedom.top/rss.xml" target="_blank"><i class="feather icon-rss" alt="gnet&#x27;s RSS feed"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/overview/">What is gnet?</a></li><li class="footer__item"><a class="footer__link-item" href="/community/#team">The Team</a></li><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact Me</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://gitter.im/gnet-io/gnet" href="https://gitter.im/gnet-io/gnet">Chat</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/panjf2000/gnet" href="https://github.com/panjf2000/gnet">Github</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/gnet-io" href="https://github.com/gnet-io">Github Organization</a></li><li class="footer__item"><a class="footer__link-item" to="https://twitter.com/_andy_pan" href="https://twitter.com/_andy_pan">Twitter</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://github.com/panjf2000/gnet/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a><br><a href="https://www.digitalocean.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"><img alt="DigitalOcean" src="https://opensource.nyc3.cdn.digitaloceanspaces.com/attribution/assets/PoweredByDO/DO_Powered_by_Badge_blue.svg" width="201px"></a></div>Copyright © 2023 Andy Pan<br><small><a href="https://github.com/panjf2000/gnet/security/policy">Security Policy</a> • <a href="https://github.com/panjf2000/gnet/blob/master/PRIVACY.md">Privacy Policy</a></small></div></div></footer>
</div>

<script src="/styles.0bf1c6e0.js"></script>

<script src="/runtime~main.6282ca3e.js"></script>

<script src="/main.db486e00.js"></script>

<script src="/1.5bafe8ca.js"></script>

<script src="/2.51995fe3.js"></script>

<script src="/3.758d517d.js"></script>

<script src="/1be78505.09b46dcb.js"></script>

<script src="/20ac7829.9f79c7cd.js"></script>

<script src="/4.4600307e.js"></script>

<script src="/17896441.fed0b536.js"></script>

<script src="/309c6dc0.569ebe5c.js"></script>


</body>
</html>