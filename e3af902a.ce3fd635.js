(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{252:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var o=n(1),r=n(9),a=(n(0),n(275)),i={last_modified_on:"2025-05-25",id:"announcing-gnet-v2-8-0",title:"Announcing gnet v2.8.0",description:"Hello World! We present you, gnet v2.8.0!",author_github:"https://github.com/panjf2000",tags:["type: announcement","domain: presentation"]},c={permalink:"/blog/announcing-gnet-v2-8-0",source:"@site/blog/2025-05-25-announcing-gnet-v2-8-0.md",description:"Hello World! We present you, gnet v2.8.0!",date:"2025-05-25T00:00:00.000Z",tags:[{label:"type: announcement",permalink:"/blog/tags/type-announcement"},{label:"domain: presentation",permalink:"/blog/tags/domain-presentation"}],title:"Announcing gnet v2.8.0",readingTime:1.93,truncated:!1,nextItem:{title:"Announcing gnet v2.7.0",permalink:"/blog/announcing-gnet-v2-7-0"}},l=[],s={rightToc:l};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,Object(a.b)("img",Object(o.a)({parentName:"p"},{src:"/img/gnet-v2-8-0.jpg",alt:null}))),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"gnet")," v2.8.0 is officially released!"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},Object(a.b)("em",{parentName:"strong"},"The most significant enhancement in this release is the support for registering new connections to event loops!"))),Object(a.b)("p",null,"Starting with v2.8.0, you're able to register new connections to an event loop, enabling you to delegate sockets that are not created by the ",Object(a.b)("inlineCode",{parentName:"p"},"gnet")," internally to the event loops of ",Object(a.b)("inlineCode",{parentName:"p"},"gnet"),"."),Object(a.b)("p",null,"This feature is particularly useful for proxy scenarios where you need to create and manage a mass of connections to backend servers and want to take advantage of the ",Object(a.b)("inlineCode",{parentName:"p"},"gnet")," event loops by registering these connections to the event loops. Once you a connection is registered to a event loop, you will be able to use the ",Object(a.b)("inlineCode",{parentName:"p"},"gnet")," APIs to operate the connection in a event-driven way, such as sending and receiving data, closing the connection, etc., as you do with the connections created by ",Object(a.b)("inlineCode",{parentName:"p"},"gnet")," itself."),Object(a.b)("p",null,"The new feature is implemented by introducing a new ",Object(a.b)("inlineCode",{parentName:"p"},"EventLoop")," interface, which provides a set of methods for manipulating the event loops, including registering new connections and scheduling executions on the event loops, etc. This allows you to interact with the event loops in a more flexible and powerful way."),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-go"}),"// EventLoop provides a set of methods for manipulating the event-loop.\ntype EventLoop interface {\n    // ============= Concurrency-safe methods =============\n\n    // Register connects to the given address and registers the connection to the current event-loop.\n    Register(ctx context.Context, addr net.Addr) (<-chan RegisteredResult, error)\n    // Enroll is like Register, but it accepts an established net.Conn instead of a net.Addr.\n    Enroll(ctx context.Context, c net.Conn) (<-chan RegisteredResult, error)\n    // Execute executes the given runnable on the event-loop at some time in the future.\n    Execute(ctx context.Context, runnable Runnable) error\n    // Schedule is like Execute, but it allows you to specify when the runnable is executed.\n    // In other words, the runnable will be executed when the delay duration is reached.\n    // TODO(panjf2000): not supported yet, implement this.\n    Schedule(ctx context.Context, runnable Runnable, delay time.Duration) error\n\n    // ============ Concurrency-unsafe methods ============\n\n    // Close closes the given Conn that belongs to the current event-loop.\n    // It must be called on the same event-loop that the connection belongs to.\n    Close(Conn) error\n}\n")),Object(a.b)("p",null,"Check out ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"https://pkg.go.dev/github.com/panjf2000/gnet/v2@v2.8.0#EventLoop"}),"gnet.EventLoop")," for more docs."),Object(a.b)("p",null,"For more details, please refer to the ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/panjf2000/gnet/releases/tag/v2.8.0"}),"release notes"),"."),Object(a.b)("p",null,"P.S. Follow me on Twitter ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"https://twitter.com/panjf2000"}),"@panjf2000")," to get the latest updates about gnet!"))}p.isMDXComponent=!0},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=Object(o.forwardRef)((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),g=o,d=u["".concat(i,".").concat(g)]||u[g]||b[g]||a;return n?r.a.createElement(d,c({ref:t},s,{components:n})):r.a.createElement(d,c({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=g;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var s=2;s<a;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"}}]);